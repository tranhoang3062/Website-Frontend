<main class="register-component">
  <div>
    <div class="banner-top position-relative">
      <p class="position-absolute w-100 text-center text-light">
        <a [routerLink]="['/']" class="text-white">Trang chủ</a>
        <span class="px-3">/</span>
        <span>Đăng ký</span>
      </p>
    </div>
    <div class="container">
      <div class="box-form my-5">
        <form action="" [formGroup]="dataForm" class="p-0 m-0 col-10 mx-auto" enctype="multipart/form-data" (submit)="handleSubmit()">
          <div class="form-item row bg-white">
            <div class="col-4 p-0 d-flex align-items-center">
              <span class="d-block">
                <img src="assets/images/bg-register1.png" class="w-100" alt="">
              </span>
            </div>
            <div *ngIf="showForm[0]" class="col-8">
              <div class="p-5">
                <h4 class="text-center text-uppercase">Đăng ký tài khoản</h4>
                <h6 class="text-center py-3">Vui lòng điền thông tin chi tiết của bạn</h6>
                <div class="form-group">
                  <input type="text" formControlName="fullname" placeholder="Họ và tên" class="form-control rounded-0">
                  <div class="box-message" *ngIf="f.fullname.invalid && (f.fullname.dirty || f.fullname.touched)">
                    <div *ngIf="f.fullname.errors">
                      <span class="small text-danger">Trường này không được để rỗng!</span>
                    </div>
                  </div>
                </div>
                <div class="form-group d-flex">
                  <div class="col-6 pl-0">
                    <input type="text" formControlName="email" placeholder="Email" class="form-control rounded-0">
                    <div class="box-message" *ngIf="f.email.invalid && (f.email.dirty || f.email.touched)">
                      <div *ngIf="f.email.errors">
                        <span class="small text-danger" *ngIf="f.email.errors['required']">Trường này không được để rỗng!</span>
                        <span class="small text-danger" *ngIf="f.email.errors['email']">Trường này phải là email!</span>
                      </div>
                    </div>
                    <span class="small text-danger" *ngIf="emailError">Email đã được đăng ký!</span>
                  </div>
                  <div class="col-6 pr-0">
                    <input type="text" formControlName="phone" placeholder="Số điện thoại(VN)" class="form-control rounded-0">
                    <div class="box-message" *ngIf="f.phone.invalid && (f.phone.dirty || f.phone.touched)">
                      <div *ngIf="f.phone.errors">
                        <span class="small text-danger" *ngIf="f.phone.errors['required']">Trường này không được để rỗng!</span>
                        <span class="small text-danger" *ngIf="f.phone.errors['pattern']">Trường này phải là số điện thoại(VN)!</span>
                      </div>
                    </div>
                    <span class="small text-danger" *ngIf="phoneError">Số điện thoại đã được đăng ký!</span>
                  </div>
                </div>
                <div class="form-group">
                  <input type="password" formControlName="password" id="password-inp" class="form-control rounded-0 rounded-0" placeholder="Mật khẩu">
                  <div class="box-message" *ngIf="f.password.invalid && (f.password.dirty || f.password.touched)">
                    <div *ngIf="f.password.errors">
                      <span class="small text-danger" *ngIf="f.password.errors['required']">Trường này không được để rỗng!</span>
                      <span class="small text-danger" *ngIf="!f.password.errors['required'] && f.password.errors['minlength'].actualLength">Mật khẩu ít nhất 6 ký tự</span>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <input type="password" formControlName="passwordComfirm" id="passwordComfirm-inp" class="form-control rounded-0 rounded-0" placeholder="Xác nhận mật khẩu" (ngModelChange)="passwordComfirmError = false">
                  <div class="box-message" *ngIf="f.passwordComfirm.invalid && (f.passwordComfirm.dirty || f.passwordComfirm.touched)">
                    <div *ngIf="f.passwordComfirm.errors">
                      <span class="small text-danger" *ngIf="f.passwordComfirm.errors['required']">Trường này không được để rỗng!</span>
                      <span class="small text-danger" *ngIf="!f.passwordComfirm.errors['required'] && f.passwordComfirm.errors['minlength'].actualLength">Mật khẩu ít nhất 6 ký tự!</span>
                    </div>
                  </div>
                  <span class="small text-danger" *ngIf="passwordComfirmError">Mật khẩu không trùng khớp!</span>
                </div>
                <div class="d-flex justify-content-end pt-3">
                  <button *ngIf="dataForm.valid" (click)="handleButton(false, true, false)" type="button" class="btn btn-next rounded-0">
                    <span class="mr-2">Tiếp tục</span>
                    <fa-icon [icon]="faArrowRightLong"></fa-icon>
                  </button>
                  <button *ngIf="!dataForm.valid" disabled type="button" class="btn btn-next rounded-0">
                    <span class="mr-2">Tiếp tục</span>
                    <fa-icon [icon]="faArrowRightLong"></fa-icon>
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="showForm[1]" class="col-8">
              <div class="p-5">
                <h4 class="text-center text-uppercase">Đăng ký tài khoản</h4>
                <h6 class="text-center py-3">Vui lòng điền thông tin chi tiết của bạn</h6>
                <div class="form-group d-flex">
                  <div class="col-6 pl-0">
                    <input type="date" formControlName="birthday" id="" class="form-control rounded-0">
                  </div>
                  <div class="col-6 pr-0 d-flex align-items-end">
                    <!-- <label for="" class="d-block"><b>Giới tính</b></label> -->
                    <div *ngFor="let item of radioInputs" class="d-inline">
                      <input type="radio" formControlName="gender" id="{{item.name}}" value="{{item.value}}" [checked]="item.checked">
                      <label class="mx-2 p-0 mb-0" for="{{item.name}}">{{item.name}}</label>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <textarea formControlName="address" id="" cols="30" rows="3" class="form-control rounded-0" placeholder="Địa chỉ"></textarea>
                </div>
                <div class="d-flex justify-content-end pt-3">
                  <button (click)="handleButton(true, false, false)" type="button" class="btn btn-back rounded-0">
                    <fa-icon [icon]="faArrowLeftLong"></fa-icon>
                    <span class="ml-2">Quay lại</span>
                  </button>
                  <button (click)="handleButton(false, false, true)" type="button" class="btn btn-next btn-next2 rounded-0 ml-3">
                    <span class="mr-2">Tiếp tục</span>
                    <fa-icon [icon]="faArrowRightLong"></fa-icon>
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="showForm[2]" class="col-8">
              <div class="p-5">
                <div class="form-group text-center">
                  <span class="d-block position-relative col-6 mx-auto p-0 rounded-circle box-file overflow-hidden">
                    <img src="{{ urlImg }}" class="w-100 h-100 rounded-circle" alt="">
                    <label for="file-inp" class="position-absolute btn rounded-circle w-100 h-100">
                      <fa-icon [icon]="faPlus" class="icon position-absolute border border-1 rounded-circle h3 bg-white p-0 m-0"></fa-icon>
                    </label>
                    <input (change)="selectFile($event)" type="file" name="upload-file" id="file-inp" class="d-none">
                  </span>
                  <h5 class="my-3">{{ f.fullname.value }}</h5>
                </div>
                <div class="d-flex justify-content-center pt-3">
                  <button (click)="handleButton(false, true, false)" type="button" class="btn btn-back rounded-0">
                    <fa-icon [icon]="faArrowLeftLong"></fa-icon>
                    <span class="ml-2">Quay lại</span>
                  </button>
                  <button type="submit" class="btn btn-register rounded-0 ml-3">
                    <span class="mr-2 px-2 d-block">Đăng ký</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</main>

<ngx-loading [show]="loading"></ngx-loading>